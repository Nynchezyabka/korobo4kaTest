<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üéÅ –ö–û–†–û–ë–û–ß–ö–ê 3.8</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap&subset=cyrillic,cyrillic-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap&subset=cyrillic,cyrillic-ext" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
	<meta name="theme-color" content="#5d4037">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
	<link rel="manifest" href="/manifest.json">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÅ –ö–û–†–û–ë–û–ß–ö–ê 3.8</h1>
            <button class="notify-toggle" id="notifyToggleBtn" aria-label="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è">
                <i class="fas fa-bell-slash"></i>
            </button>
        </header>

        <div class="sections">
            <div class="section mandatory" data-category="1">
                <h2>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–ª–∞</h2>
                <div class="section-actions">
                    <button class="section-action-btn section-random-btn" aria-label="–°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–∞—á–∞">
                        <i class="fas fa-dice"></i>
                        <span class="action-text">—Å–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–∞—á–∞</span>
                    </button>
                    <button class="section-action-btn section-add-btn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
            
            <div class="section security" data-category="2,5">
                <h2>–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ <br>–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö —Ä–∞–¥–æ—Å—Ç–µ–π</h2>
                <div class="section-actions">
                    <button class="section-action-btn section-random-btn" aria-label="–°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–∞—á–∞">
                        <i class="fas fa-dice"></i>
                        <span class="action-text">—Å–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–∞—á–∞</span>
                    </button>
                    <button class="section-action-btn section-add-btn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
            
            <div class="section joys" data-category="3,4">
                <h2>–ü—Ä–æ—Å—Ç—ã–µ –∏ —ç–≥–æ-—Ä–∞–¥–æ—Å—Ç–∏</h2>
                <div class="section-actions">
                    <button class="section-action-btn section-random-btn" aria-label="–°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–∞—á–∞">
                        <i class="fas fa-dice"></i>
                        <span class="action-text">—Å–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–∞—á–∞</span>
                    </button>
                    <button class="section-action-btn section-add-btn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button id="showTasksBtn">–í—Å–µ –∑–∞–¥–∞—á–∏</button>
            <button id="archiveBtn">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</button>
            <button id="addMultipleBtn">–î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á</button>
            <button id="exportTasksBtn">–°–∫–∞—á–∞—Ç—å –∑–∞–¥–∞—á–∏</button>
        </div>
        
        <div class="task-list" id="taskList" style="display: none;">
            <h2>–í—Å–µ –∑–∞–¥–∞—á–∏</h2>
            
            <div class="task-form">
                <textarea id="taskText" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ (–∫–∞–∂–¥–∞—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)..."></textarea>
                <select id="taskCategory">
                    <option value="0">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ (–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞)</option>
                    <option value="1">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–ª–∞</option>
                    <option value="2">–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</option>
                    <option value="5">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö —Ä–∞–¥–æ—Å—Ç–µ–π</option>
                    <option value="3">–ü—Ä–æ—Å—Ç—ã–µ —Ä–∞–¥–æ—Å—Ç–∏</option>
                    <option value="4">–≠–≥–æ-—Ä–∞–¥–æ—Å—Ç–∏</option>
                </select>
                <button id="addTaskBtn">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
            </div>
            
            <div class="import-export">
                <label for="importFile" class="file-label">
                    <i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞—á–∏ –∏–∑ —Ñ–∞–π–ª–∞
                </label>
                <input type="file" id="importFile" class="file-input" accept=".json">
                <button id="pasteTasksBtn" class="file-label" type="button">
                    <i class="fas fa-clipboard"></i> –í—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
                </button>
            </div>
            
            <div class="tasks" id="tasksContainer">
                <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
            
            <button id="hideTasksBtn">–°–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫</button>
        </div>
    </div>
    
    <div class="timer-screen" id="timerScreen">
        <div class="timer-content">
            <h2>–í–∞—à–∞ –∑–∞–¥–∞—á–∞:</h2>
            <div class="timer-task" id="timerTaskText"></div>
            <div class="timer-display" id="timerDisplay">15:00</div>
            
            <div class="timer-controls">
                <input type="number" id="timerMinutes" min="1" max="120" value="15">
                <button class="timer-btn" id="soundToggleBtn" aria-pressed="true" aria-label="–ó–≤—É–∫ –≤–∫–ª—é—á—ë–Ω" title="–ó–≤—É–∫ –≤–∫–ª—é—á—ë–Ω"><i class="fas fa-volume-up"></i></button>
                <button class="timer-btn" id="startTimerBtn">–°—Ç–∞—Ä—Ç</button>
                <button class="timer-btn" id="pauseTimerBtn">–ü–∞—É–∑–∞</button>
                <button class="timer-btn" id="resetTimerBtn">–°–±—Ä–æ—Å</button>
            </div>

            <div class="timer-primary-actions">
                <button class="timer-btn" id="completeNowBtn"><i class="fas fa-check"></i> –ì–æ—Ç–æ–≤–æ</button>
            </div>

            <div class="timer-complete-options" id="timerCompleteOptions">
                <button class="timer-btn" id="completeTaskBtn">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É</button>
                <button class="timer-btn" id="returnTaskBtn">–í–µ—Ä–Ω—É—Ç—å –≤ –∫–æ—Ä–æ–±–æ—á–∫—É</button>
            </div>

            <button class="timer-btn" id="closeTimerBtn" style="margin-top: 15px;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <div class="notification" id="notification">
        –í—Ä–µ–º—è –≤—ã—à–ª–æ!
    </div>

    <!-- Add Task Modal -->
    <div class="modal" id="addTaskModal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop" id="modalBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="modalCloseBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</h3>
            <textarea id="modalTaskText" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ (–∫–∞–∂–¥–∞—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)..."></textarea>
            <div id="modalCategoryOptions" class="modal-category-options" aria-label="–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"></div>
            <div class="add-subcategory-controls" id="modalSubcategories" style="display:none;"></div>
            <div class="modal-actions">
                <button id="modalAddTaskBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
                <button id="modalCancelBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Confirm / Info Modal -->
    <div class="modal" id="confirmModal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop" id="confirmBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="confirmCloseBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h3 id="confirmTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
            <div class="modal-message" id="confirmMessage"></div>
            <label class="modal-check" id="confirmCheckWrap" style="display:none;"><input type="checkbox" id="confirmCheckbox"> <span id="confirmCheckboxLabel">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –¥–µ–π—Å—Ç–≤–∏–µ</span></label>
            <div class="modal-actions">
                <button id="confirmOkBtn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                <button id="confirmCancelBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Subcategory Actions Modal -->
    <div class="modal" id="subcatActionsModal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop" id="subcatActionsBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="subcatActionsClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h3>–î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π</h3>
            <div class="subcat-actions">
                <button type="button" class="subcat-action-btn" data-action="rename">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å</button>
                <button type="button" class="subcat-action-btn" data-action="move">–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–¥–∞—á–∏</button>
                <button type="button" class="subcat-action-btn destructive" data-action="delete">–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
            </div>
            <div class="modal-actions">
                <button id="subcatActionsCancel">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Rename Subcategory Modal -->
    <div class="modal" id="renameSubcatModal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop" id="renameSubcatBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="renameSubcatClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h3>–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
            <label for="renameSubcatInput" class="modal-label">–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
            <input type="text" id="renameSubcatInput">
            <div class="modal-actions">
                <button id="renameSubcatOk">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="renameSubcatCancel">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Move Tasks Modal -->
    <div class="modal" id="moveTasksModal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop" id="moveTasksBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="moveTasksClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h3>–ü–µ—Ä–µ–Ω–æ—Å –∑–∞–¥–∞—á</h3>
            <div class="modal-category-options" id="moveCategoryOptions"></div>
            <div class="add-subcategory-controls" id="moveSubcategories" style="display:none;"></div>
            <div class="modal-actions">
                <button id="moveTasksOk">–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏</button>
                <button id="moveTasksCancel">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Paste Tasks Modal -->
    <div class="modal" id="pasteTasksModal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop" id="pasteTasksBackdrop"></div>
        <div class="modal-content paste-modal-content">
            <button class="modal-close" id="pasteTasksCloseBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h3>–í—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</h3>
            <div class="paste-modal-body">
                <label for="pasteTasksInput" class="modal-label">–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏</label>
                <textarea id="pasteTasksInput" class="paste-modal-textarea" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –∑–∞–¥–∞—á–∏..." aria-label="–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø–æ—Å—Ç—Ä–æ—á–Ω–æ"></textarea>
                <div class="modal-note">–ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ¬´–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞¬ª. –ü–æ–∑–∂–µ –∏—Ö –º–æ–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å.</div>
            </div>
            <div class="modal-actions">
                <button id="pasteTasksAddBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
                <button id="pasteTasksCancelBtn" type="button">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
